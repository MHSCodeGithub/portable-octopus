<!doctype html>
<html>
  <head>
    <title>Login | Octable Portopus</title>
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/login.css">
  </head>
  <body>
    <div id="tabs">

      <ul>
        <li><a href="#login">Login</a></li>
        <li><a href="#register">Register</a></li>
      </ul>

      <div id="login">
        <form action="/" method="post">
          <input type="hidden" name="type" value="login">
          <input type="text" id="username" name="username" placeholder="Username">
          <input type="password" id="password" name="password" placeholder="Password">
          <input type="submit" value="Submit">
          <p id="errLog" style="display: none;">Incorrect Login Details!</p>
        </form>
      </div>

      <div id="register">
        <form action="/" method="post">
          <input type="hidden" name="type" value="register">
          <input type="text" id="username" name="username" placeholder="Username">
          <input type="password" id="password" name="password" placeholder="Password">
          <input type="text" id="kingdom" name="kingdom" placeholder="Kingdom Name">
          <input type="submit" value="Submit">
          <p id="errReg" style="display: none;">Username Taken!</p>
        </form>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script>
      function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return false;
      }

      $(document).ready(function () {
        if(getCookie("failedLog") == "true") {
          $("#errLog").show();
        } else {
          $("#errLog").hide();
        }

        if(getCookie("failedReg") == "true") {
          $("#errReg").show();
        } else {
          $("#errReg").hide();
        }

        $("#tabs").tabs();
      });
    </script>
  </body>
</html>
